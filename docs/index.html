<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <!-- Theme: Simple -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple-dark.css">
  <base href="/latest/">

  <style type="text/css">
    :root {
      --base-background-color: #13151B;
      --sidebar-width: 22rem;
      --docsify-example-panels-document-width: 100%;
      --code-font-size: 12px;
      --heading-h3-margin: 14px 0 0 0;
      --heading-h3-font-size: 16px;
      --heading-h6-font-size: 14px;
      --search-margin: 0 0 0 0;
      --sidebar-nav-margin: 0.5rem 0 0 0;
      --sidebar-nav-link-padding: 0 0 0 0;
      --sidebar-nav-pagelink-padding: 0 0 0 20px;
      --sidebar-background: #353943;
      --code-theme-background: #353943;
      --sidebar-nav-link-text-decoration--hover: none;
      --sidebar-nav-link-color--hover: white;
      --link-text-decoration: none;
      --link-text-decoration--hover: underline;
      --link-color: #0090fc;
    }

    .sidebar-section {
      font-weight: bold;
      font-size: 21px;
      color: white;
      text-align: center;
    }

    .sidebar-nav p {
      margin-top: 4px;
      margin-bottom: 4px;
      color: #0090fc;
    }

    .sidebar-nav > ul > li {
      padding: 0.5rem 0;
    }

    h1.app-name {
      background-color: #272b35;
      margin: 0 -25px;
      padding: 10px 25px 0px 25px;
    }

    .markdown-section iframe {
        margin-left: auto;
        margin-right: auto;
        display: block;
    }

    .video-container {
        overflow: hidden;
        position: relative;
        width:100%;
    }

    .video-container::after {
        padding-top: 56.25%;
        display: block;
        content: '';
    }

    .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    div.mermaid {
      background-color: white;
      display: flex;
      justify-content: center;
      padding: 16px;
    }

    .markdown-section img {
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
    .markdown-section img.emoji {
        display: inline-block;
        width: auto;
    }

    .markdown-section li img {
        padding-top: 6px;
        padding-bottom: 6px;
    }
    .markdown-section img[data-no-zoom] {
        display: inline-block;
        text-align: left;
    }
    .markdown-section img.medium-zoom-image {
      background: var(--code-theme-background);
      padding: 6px;
      border-radius: var(--code-block-border-radius);
    }
    .search input {
        outline: none;
        width: 100%;
        padding: 0.6em 7px;
        font-size: inherit;
        border: 1px solid transparent;
    }
  </style>
</head>
<body>
  <div id="app">Načítavam...</div>

  <div id="search" style="display: none;">
    <div class="search">
      <div class="input-wrap">
        <input type="search" value="" aria-label="Search text" placeholder="Vyhľadávanie">
      </div>
    </div>
  </div>

  <script>
    var basePath = "/latest/";
        if (
            window.location.href.indexOf("127.0.0.1") > -1
            || window.location.href.indexOf("iwcm.interway.sk") > -1
            || window.location.href.indexOf("docs.interway.sk") > -1
        ) {
            basePath = "/";
        }
    window.$docsify = {
      name: 'WebJET CMS',
      nameLink: basePath,
      repo: 'https://github.com/webjetcms/webjetcms',
      logo: basePath+'sk/_media/logo.png',
      basePath: "/", //because of base tag in head this must be set to /
      routerMode: 'history',
      auto2top: true, //Scrolls to the top of the screen when the route is changed.
      loadSidebar: true,
      loadNavbar: true, //Loads navbar from the Markdown file _navbar.md
      mergeNavbar: true,
      maxLevel: 6,
      subMaxLevel: 6,
      copyCode: {
          buttonText: 'Skopírovať do schránky',
          errorText: 'Chyba',
          successText: 'Skopírované'
      },
      executeScript: true,
      nativeEmoji: true,
      notFoundPage: {
        '/': '/_404.md'
      },
      relativePath: false, //otherwise history routing will not work
      // complete configuration parameters
      search: {
        maxAge: 86400000, // Expiration time, the default one day
        paths: 'auto',

        // Localization
        placeholder: {
          '/sk/': 'Vyhľadávanie',
          '/': 'Type to search',
        },

        // Localization
        noData: {
          '/sk/': 'Neboli nájdené žiadne výsledky',
          '/': 'No Results',
        },

        // Headline depth, 1 - 6
        depth: 4,

        hideOtherSidebarContent: false, // whether or not to hide other sidebar content

        // To avoid search index collision
        // between multiple websites under the same domain
        namespace: 'webjetcms-2024',

        // Use different indexes for path prefixes (namespaces).
        // NOTE: Only works in 'auto' mode.
        //
        // When initialiazing an index, we look for the first path from the sidebar.
        // If it matches the prefix from the list, we switch to the corresponding index.
        pathNamespaces: ['/sk', '/en'],
      },
    }
  </script>
  <!-- Docsify v4 -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4"></script>
  <!-- docsify-themeable -->
  <script src="//cdn.jsdelivr.net/npm/docsify-themeable@0/dist/js/docsify-themeable.min.js"></script>

  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/plugins/zoom-image.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>

  <!-- Full text search - https://docsify.js.org/#/plugins?id=full-text-search -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>

  <!-- docsify-tabs (latest v1.x.x) https://jhildenbiddle.github.io/docsify-tabs/#/ -->
  <script src="https://cdn.jsdelivr.net/npm/docsify-tabs@1"></script>

  <!-- https://github.com/Leward/mermaid-docsify -->
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({ startOnLoad: true });
    window.mermaid = mermaid;
  </script>
  <script src="//unpkg.com/docsify-mermaid@2.0.1/dist/docsify-mermaid.js"></script>

  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-java.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-sql.js"></script>

  <script>
    var languages = ['sk', 'en'];
    //uprav link rendered pre WJ potreby
    document.addEventListener("DOMContentLoaded", function () {
      const originalRender = window.$docsify.markdown.renderer.link;
      window.$docsify.markdown.renderer.link = function(href, title, text) {
          //console.log("href=", href, "title=", title, "text=", text, "location=", window.location.href, "basePath=", basePath);

          var lngPrefix = "/sk/";
          if (window.location.href.indexOf("/en/")!=-1) {
            lngPrefix = "/en/";
          }
          if (href.indexOf("http")!=0 && href.indexOf("..")!=0 && href.indexOf("#")!=0 && href.indexOf("//")!=0) {
            if (href.indexOf("/sk")!=0 && href.indexOf("/en")!=0) {
              href = lngPrefix + href;
              href = href.replace("//", "/");
            }
          }

          //console.log("href=", href)
          for (var lang of languages) {
            if (href.indexOf("/"+lang+"/")==0) {
              //append basePath if hraf starts with /sk/ or /en/
              href = basePath + href.substring(1);
            }
          }

          let link = originalRender(href, title, text);
          //console.log("link=", link);

          //ak sa jedna o javadoc otvor do noveho okna a zafrejmuj zobrazenie
          if (href.indexOf("/javadoc/")!=-1) {
              //console.log("originalLink=", link);
              link = link.replace('href="/', 'target="_blank" href="/');
              link = link.replace('/developer/javadoc/', '/developer/javadoc/index.html?');
              link = link.replace("/developer/javadoc/index.html?index.html", "/developer/javadoc/index.html");
              //console.log("fixed link:", link);
          }
          if (href.indexOf(".zip")!=-1 || href.indexOf(".xls")!=-1 || href.indexOf(".pdf")!=-1 || href.indexOf(".doc")!=-1) {
              //console.log("originalLink=", link);
              link = link.replace('href="', 'target="_blank" href="');
          }

          link = link.replace('href="'+lngPrefix+"../", 'href="../');
          link = link.replace('href="/../', 'href="../');
          var pathname = window.location.pathname;
          if (pathname.endsWith("/")==false) {
            pathname = pathname.substring(0, pathname.lastIndexOf("/")+1);
          }
          link = link.replace('href="../', 'href="'+pathname+'../');

          //prevent docsify onclick event
          link = link.replace('target="_blank"', 'target="_blank" onclick="handleExternalClick(this, event)"');
          //console.log("link final: ", link);
          return link;
      }

      //move #search element into aside.sidebar after h1 element
      /*var search = document.getElementById("search");
      var sidebar = document.getElementsByClassName("sidebar")[0];
      var h1 = sidebar.getElementsByTagName("h1")[0];
      if (h1) {
        h1.parentNode.insertBefore(search, h1.nextSibling);
      }
      search.style.display = "block";
      */


    });
    function handleExternalClick(link, event) {
      event.preventDefault();
      //prevent docsify onclick event
      event.stopPropagation();
      window.open(link.href, '_blank');
    }
  </script>

</body>
</html>
