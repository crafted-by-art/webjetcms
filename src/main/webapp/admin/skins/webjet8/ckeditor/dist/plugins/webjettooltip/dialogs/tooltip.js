CKEDITOR.dialog.add("tooltipDialog",function(c){return{title:c.lang.webjettooltip.title,minWidth:600,minHeight:150,contents:[{id:"tab-basic",label:c.lang.webjettooltip.tab,elements:[{type:"text",id:"title",label:c.lang.webjettooltip.txtTitle,validate:CKEDITOR.dialog.validate.notEmpty(c.lang.webjettooltip.txtErrorEmpty),setup:function(a){this.setValue(a.getText())},commit:function(a){a.setText(this.getValue())}},{type:"html",html:'\x3clabel for\x3d"tooltip"\x3e'+c.lang.webjettooltip.txtArea+'\x3c/label\x3e\x3cbr\x3e\x3cinput class\x3d"cke_dialog_ui_input_text" type\x3d"text" id\x3d"tooltip"\x3e',
validate:function(){if(1>$("#tooltip").val().length)return alert(c.lang.webjettooltip.txtErrorEmpty),!1},setup:function(a){this.setValue(a.getAttribute("title"))},commit:function(a){a.setAttribute("title","!REQUEST(wjtooltip:"+$("#tooltip").val()+")!");a.setAttribute("data-cke-saved-title","!REQUEST(wjtooltip:"+$("#tooltip").val()+")!")},onShow:function(a){},onHide:function(){}}]}],onShow:function(){var a=c.getSelection(),b=a.getStartElement(),a=a.getSelectedText();b&&(b=b.getAscendant(c.config.tooltip_tag,
!0));b&&b.getName()==c.config.tooltip_tag?this.insertMode=!1:(b=c.document.createElement(c.config.tooltip_tag),this.insertMode=!0);this.element=b;this.insertMode||this.setupContent(this.element);this.insertMode&&this.setValueOf("tab-basic","title",a);b=$(b.$).attr("title");void 0!=b&&(b=b.substring(b.indexOf(":")+1,b.indexOf(")!")),$("#tooltip").val(b));$("#tooltip").autocomplete({source:"/admin/skins/webjet8/ckeditor/dist/plugins/webjettooltip/tooltip_autocomplete.jsp",minLength:0,select:function(a,
b){$("#tooltip").attr("data-tooltipId",b.item.id)}})},onOk:function(){var a=this.element;a.setAttribute("class",c.config.tooltip_class);this.commitContent(a);this.insertMode&&c.insertElement(a)},onHide:function(){$("#tooltip").val("");$("#tooltip").attr("data-tooltipId","")}}});